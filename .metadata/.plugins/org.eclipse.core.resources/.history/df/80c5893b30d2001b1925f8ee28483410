<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<h:outputStylesheet library="css" name="styles.css" />
	<title>Gerenciador de Tarefas</title>
</h:head>
<h:body>
	<h:form id="form">
		<p:messages autoUpdate="true"/>
			<p:panelGrid columns="2">
				<p:outputLabel value="Titulo"/>
				<p:inputText size="30" value="#{tarefaMB.tarefa.titulo}" required="true" label="Título"/>
				<p:outputLabel value="Descricao"/>
				<p:inputText size="200" value="#{tarefaMB.tarefa.descricao}" required="true" label="Descrição"/>
				
				<p:outputLabel value="Responsável"/>
				<p:selectOneMenu value="#{tarefaMB.tarefa.responsavel}" required="true" label="Responsável">
					<f:selectItem itemLabel="Lucas" itemValue="Lucas"/>
					<f:selectItem itemLabel="Rebeca" itemValue="Rebeca"/>
					<f:selectItem itemLabel="Lizzy" itemValue="Lizzy"/>
				</p:selectOneMenu>
				
				<p:outputLabel value="Prioridade"/>
				<p:selectOneMenu value="#{tarefaMB.tarefa.prioridade}" required="true" label="Prioridade">
					<f:selectItem itemLabel="Alta" itemValue="Alta"/>
					<f:selectItem itemLabel="Normal" itemValue="Normal"/>
				</p:selectOneMenu>

				<p:outputLabel value="Deadline"/>
				<p:inputMask mask="99/99/9999" size="10" value="#{tarefaMB.tarefa.deadline}" required="true" label="Deadline"/>
				
				<p:commandButton value="Cadastrar" action="#{tarefaMB.adicionar}" update="form tabela" style="margin-top: 10px"/>
			</p:panelGrid>
			
			<p:dataTable value="#{tarefaMB.tarefas}" var="t" id="tabela" paginator="true" rows="5">
				<p:column headerText="Título">
					<p:outputLabel value="#{t.titulo}"/>
				</p:column>
				<p:column headerText="Descrição">
					<p:outputLabel value="#{t.descricao}"/>
				</p:column>
				<p:column headerText="Responsável">
					<p:outputLabel value="#{t.responsavel}"/>
				</p:column>
				<p:column headerText="Prioridade">
					<p:outputLabel value="#{t.prioridade}"/>
				</p:column>
				<p:column headerText="Título">
					<p:outputLabel value="#{t.deadline}"/>
				</p:column>
				<p:column headerText="Ações">
					<p:commandButton value="Editar" update="@form" process="@this">
						<f:setPropertyActionListener value="#{t}" target="#{tarefaMB.tarefa}"/>
					</p:commandButton>
					<p:commandButton action="#{tarefaMB.excluir}" value="Excluir" update="tabela" process="@this">
						<f:setPropertyActionListener value="#{t}" target="#{tarefaMB.tarefa}"/>
					</p:commandButton>
				</p:column>
			
			</p:dataTable>
	</h:form>
</h:body>
</html>